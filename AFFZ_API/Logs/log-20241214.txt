2024-12-14T13:06:40.6954222+04:00 0HN8S3NJ6OGCS:00000001 [INF] Attempting login for email: "fahad@gmail.com" (100386e3)
2024-12-14T13:06:41.2947628+04:00 0HN8S3NJ6OGCS:00000001 [INF] User login successful for email: "fahad@gmail.com" (8ce767cc)
2024-12-14T13:06:43.8199291+04:00 0HN8S3NJ6OGCS:00000007 [INF] No reviews found for merchantId: 3 (58ba9d33)
2024-12-14T13:06:43.8917081+04:00 0HN8S3NJ6OGCS:00000008 [INF] GetUsersWithDocuments method called. (826a3c84)
2024-12-14T13:06:43.9499148+04:00 0HN8S3NJ6OGCS:00000008 [WRN] No users found with uploaded documents. (5684a41c)
2024-12-14T13:10:11.4258274+04:00 0HN8S3NJ6OGD3:00000017 [INF] SELECT [r].[SID], COALESCE([s].[ServicePrice], 0) AS [ServicePrice], [s].[ServiceName], COALESCE([s].[MerchantID], 0) AS [MerchantID], CAST([r].[FINALPRICE] AS decimal(18,2)) AS [FINALPRICE], [r].[UID], [r].[RFDFU], [r].[IsMerchantSelected], [r].[ResponseDateTime], [r].[IsPaymentDone], CASE
    WHEN [r0].[StatusID] IS NOT NULL THEN [r0].[StatusDescription]
    ELSE N'Unknown'
END AS [CurrentStatus], CASE
    WHEN [r0].[StatusID] IS NOT NULL THEN CASE
        WHEN [r0].[StatusName] = N'Completed' THEN CAST(1 AS bit)
        ELSE CAST(0 AS bit)
    END
    ELSE CAST(0 AS bit)
END AS [IsRequestCompleted]
FROM [Service] AS [s]
INNER JOIN [RequestForDisCountToUser] AS [r] ON [s].[ServiceID] = [r].[SID] AND COALESCE([s].[MerchantID], 0) = [r].[MID]
LEFT JOIN [CurrentServiceStatus] AS [c] ON [r].[UID] = [c].[UId] AND COALESCE([s].[MerchantID], 0) = [c].[MId] AND [r].[RFDFU] = [c].[RFDFU]
LEFT JOIN [RequestStatuses] AS [r0] ON CONVERT(int, [c].[CurrentStatus]) = [r0].[StatusID]
WHERE [s].[MerchantID] IS NOT NULL (fb864ff2)
2024-12-14T13:10:11.8398982+04:00 0HN8S3NJ6OGD3:0000001D [INF] SELECT [r].[SID], COALESCE([s].[ServicePrice], 0) AS [ServicePrice], [s].[ServiceName], COALESCE([s].[MerchantID], 0) AS [MerchantID], CAST([r].[FINALPRICE] AS decimal(18,2)) AS [FINALPRICE], [r].[UID], [r].[RFDFU], [r].[IsMerchantSelected], [r].[ResponseDateTime], [r].[IsPaymentDone], CASE
    WHEN [r0].[StatusID] IS NOT NULL THEN [r0].[StatusDescription]
    ELSE N'Unknown'
END AS [CurrentStatus], CASE
    WHEN [r0].[StatusID] IS NOT NULL THEN CASE
        WHEN [r0].[StatusName] = N'Completed' THEN CAST(1 AS bit)
        ELSE CAST(0 AS bit)
    END
    ELSE CAST(0 AS bit)
END AS [IsRequestCompleted]
FROM [Service] AS [s]
INNER JOIN [RequestForDisCountToUser] AS [r] ON [s].[ServiceID] = [r].[SID] AND COALESCE([s].[MerchantID], 0) = [r].[MID]
LEFT JOIN [CurrentServiceStatus] AS [c] ON [r].[UID] = [c].[UId] AND COALESCE([s].[MerchantID], 0) = [c].[MId] AND [r].[RFDFU] = [c].[RFDFU]
LEFT JOIN [RequestStatuses] AS [r0] ON CONVERT(int, [c].[CurrentStatus]) = [r0].[StatusID]
WHERE [s].[MerchantID] IS NOT NULL (fb864ff2)
2024-12-14T13:21:03.1076912+04:00 0HN8S3NJ6OGD4:00000001 [INF] SELECT [r].[SID], COALESCE([s].[ServicePrice], 0) AS [ServicePrice], [s].[ServiceName], COALESCE([s].[MerchantID], 0) AS [MerchantID], CAST([r].[FINALPRICE] AS decimal(18,2)) AS [FINALPRICE], [r].[UID], [r].[RFDFU], [r].[IsMerchantSelected], [r].[ResponseDateTime], [r].[IsPaymentDone], CASE
    WHEN [r0].[StatusID] IS NOT NULL THEN [r0].[StatusDescription]
    ELSE N'Unknown'
END AS [CurrentStatus], CASE
    WHEN [r0].[StatusID] IS NOT NULL THEN CASE
        WHEN [r0].[StatusName] = N'Completed' THEN CAST(1 AS bit)
        ELSE CAST(0 AS bit)
    END
    ELSE CAST(0 AS bit)
END AS [IsRequestCompleted]
FROM [Service] AS [s]
INNER JOIN [RequestForDisCountToUser] AS [r] ON [s].[ServiceID] = [r].[SID] AND COALESCE([s].[MerchantID], 0) = [r].[MID]
LEFT JOIN [CurrentServiceStatus] AS [c] ON [r].[UID] = [c].[UId] AND COALESCE([s].[MerchantID], 0) = [c].[MId] AND [r].[RFDFU] = [c].[RFDFU]
LEFT JOIN [RequestStatuses] AS [r0] ON CONVERT(int, [c].[CurrentStatus]) = [r0].[StatusID]
WHERE [s].[MerchantID] IS NOT NULL (fb864ff2)
2024-12-14T13:21:04.6995405+04:00 0HN8S3NJ6OGD5:00000006 [INF] No reviews found for merchantId: 3 (58ba9d33)
2024-12-14T13:21:04.7187402+04:00 0HN8S3NJ6OGD5:00000007 [INF] GetUsersWithDocuments method called. (826a3c84)
2024-12-14T13:21:04.7458558+04:00 0HN8S3NJ6OGD5:00000007 [WRN] No users found with uploaded documents. (5684a41c)
2024-12-14T13:22:32.1972353+04:00 0HN8S3NJ6OGD8:00000001 [INF] SELECT [r].[SID], COALESCE([s].[ServicePrice], 0) AS [ServicePrice], [s].[ServiceName], COALESCE([s].[MerchantID], 0) AS [MerchantID], CAST([r].[FINALPRICE] AS decimal(18,2)) AS [FINALPRICE], [r].[UID], [r].[RFDFU], [r].[IsMerchantSelected], [r].[ResponseDateTime], [r].[IsPaymentDone], CASE
    WHEN [r0].[StatusID] IS NOT NULL THEN [r0].[StatusDescription]
    ELSE N'Unknown'
END AS [CurrentStatus], CASE
    WHEN [r0].[StatusID] IS NOT NULL THEN CASE
        WHEN [r0].[StatusName] = N'Completed' THEN CAST(1 AS bit)
        ELSE CAST(0 AS bit)
    END
    ELSE CAST(0 AS bit)
END AS [IsRequestCompleted]
FROM [Service] AS [s]
INNER JOIN [RequestForDisCountToUser] AS [r] ON [s].[ServiceID] = [r].[SID] AND COALESCE([s].[MerchantID], 0) = [r].[MID]
LEFT JOIN [CurrentServiceStatus] AS [c] ON [r].[UID] = [c].[UId] AND COALESCE([s].[MerchantID], 0) = [c].[MId] AND [r].[RFDFU] = [c].[RFDFU]
LEFT JOIN [RequestStatuses] AS [r0] ON CONVERT(int, [c].[CurrentStatus]) = [r0].[StatusID]
WHERE [s].[MerchantID] IS NOT NULL (fb864ff2)
2024-12-14T13:22:33.1824607+04:00 0HN8S3NJ6OGD9:00000006 [INF] No reviews found for merchantId: 3 (58ba9d33)
2024-12-14T13:22:33.2036014+04:00 0HN8S3NJ6OGD9:00000007 [INF] GetUsersWithDocuments method called. (826a3c84)
2024-12-14T13:22:33.2320674+04:00 0HN8S3NJ6OGD9:00000007 [WRN] No users found with uploaded documents. (5684a41c)
2024-12-14T13:22:43.4921661+04:00 0HN8S3NJ6OGD8:00000005 [INF] SELECT [r].[SID], COALESCE([s].[ServicePrice], 0) AS [ServicePrice], [s].[ServiceName], COALESCE([s].[MerchantID], 0) AS [MerchantID], CAST([r].[FINALPRICE] AS decimal(18,2)) AS [FINALPRICE], [r].[UID], [r].[RFDFU], [r].[IsMerchantSelected], [r].[ResponseDateTime], [r].[IsPaymentDone], CASE
    WHEN [r0].[StatusID] IS NOT NULL THEN [r0].[StatusDescription]
    ELSE N'Unknown'
END AS [CurrentStatus], CASE
    WHEN [r0].[StatusID] IS NOT NULL THEN CASE
        WHEN [r0].[StatusName] = N'Completed' THEN CAST(1 AS bit)
        ELSE CAST(0 AS bit)
    END
    ELSE CAST(0 AS bit)
END AS [IsRequestCompleted]
FROM [Service] AS [s]
INNER JOIN [RequestForDisCountToUser] AS [r] ON [s].[ServiceID] = [r].[SID] AND COALESCE([s].[MerchantID], 0) = [r].[MID]
LEFT JOIN [CurrentServiceStatus] AS [c] ON [r].[UID] = [c].[UId] AND COALESCE([s].[MerchantID], 0) = [c].[MId] AND [r].[RFDFU] = [c].[RFDFU]
LEFT JOIN [RequestStatuses] AS [r0] ON CONVERT(int, [c].[CurrentStatus]) = [r0].[StatusID]
WHERE [s].[MerchantID] IS NOT NULL (fb864ff2)
2024-12-14T13:22:43.7864846+04:00 0HN8S3NJ6OGD9:00000010 [INF] No reviews found for merchantId: 3 (58ba9d33)
2024-12-14T13:22:43.8049983+04:00 0HN8S3NJ6OGD9:00000011 [INF] GetUsersWithDocuments method called. (826a3c84)
2024-12-14T13:22:43.8119811+04:00 0HN8S3NJ6OGD9:00000011 [WRN] No users found with uploaded documents. (5684a41c)
2024-12-14T13:22:57.0408223+04:00 0HN8S3NJ6OGD8:00000009 [INF] SELECT [r].[SID], COALESCE([s].[ServicePrice], 0) AS [ServicePrice], [s].[ServiceName], COALESCE([s].[MerchantID], 0) AS [MerchantID], CAST([r].[FINALPRICE] AS decimal(18,2)) AS [FINALPRICE], [r].[UID], [r].[RFDFU], [r].[IsMerchantSelected], [r].[ResponseDateTime], [r].[IsPaymentDone], CASE
    WHEN [r0].[StatusID] IS NOT NULL THEN [r0].[StatusDescription]
    ELSE N'Unknown'
END AS [CurrentStatus], CASE
    WHEN [r0].[StatusID] IS NOT NULL THEN CASE
        WHEN [r0].[StatusName] = N'Completed' THEN CAST(1 AS bit)
        ELSE CAST(0 AS bit)
    END
    ELSE CAST(0 AS bit)
END AS [IsRequestCompleted]
FROM [Service] AS [s]
INNER JOIN [RequestForDisCountToUser] AS [r] ON [s].[ServiceID] = [r].[SID] AND COALESCE([s].[MerchantID], 0) = [r].[MID]
LEFT JOIN [CurrentServiceStatus] AS [c] ON [r].[UID] = [c].[UId] AND COALESCE([s].[MerchantID], 0) = [c].[MId] AND [r].[RFDFU] = [c].[RFDFU]
LEFT JOIN [RequestStatuses] AS [r0] ON CONVERT(int, [c].[CurrentStatus]) = [r0].[StatusID]
WHERE [s].[MerchantID] IS NOT NULL (fb864ff2)
2024-12-14T13:22:57.3351025+04:00 0HN8S3NJ6OGD9:0000001A [INF] No reviews found for merchantId: 3 (58ba9d33)
2024-12-14T13:22:57.3568317+04:00 0HN8S3NJ6OGD9:0000001B [INF] GetUsersWithDocuments method called. (826a3c84)
2024-12-14T13:22:57.3752197+04:00 0HN8S3NJ6OGD9:0000001B [WRN] No users found with uploaded documents. (5684a41c)
2024-12-14T13:23:53.7988327+04:00 0HN8S3NJ6OGDG:00000001 [INF] SELECT [r].[SID], COALESCE([s].[ServicePrice], 0) AS [ServicePrice], [s].[ServiceName], COALESCE([s].[MerchantID], 0) AS [MerchantID], CAST([r].[FINALPRICE] AS decimal(18,2)) AS [FINALPRICE], [r].[UID], [r].[RFDFU], [r].[IsMerchantSelected], [r].[ResponseDateTime], [r].[IsPaymentDone], CASE
    WHEN [r0].[StatusID] IS NOT NULL THEN [r0].[StatusDescription]
    ELSE N'Unknown'
END AS [CurrentStatus], CASE
    WHEN [r0].[StatusID] IS NOT NULL THEN CASE
        WHEN [r0].[StatusName] = N'Completed' THEN CAST(1 AS bit)
        ELSE CAST(0 AS bit)
    END
    ELSE CAST(0 AS bit)
END AS [IsRequestCompleted]
FROM [Service] AS [s]
INNER JOIN [RequestForDisCountToUser] AS [r] ON [s].[ServiceID] = [r].[SID] AND COALESCE([s].[MerchantID], 0) = [r].[MID]
LEFT JOIN [CurrentServiceStatus] AS [c] ON [r].[UID] = [c].[UId] AND COALESCE([s].[MerchantID], 0) = [c].[MId] AND [r].[RFDFU] = [c].[RFDFU]
LEFT JOIN [RequestStatuses] AS [r0] ON CONVERT(int, [c].[CurrentStatus]) = [r0].[StatusID]
WHERE [s].[MerchantID] IS NOT NULL (fb864ff2)
2024-12-14T13:23:54.0386439+04:00 0HN8S3NJ6OGDH:00000006 [INF] No reviews found for merchantId: 3 (58ba9d33)
2024-12-14T13:23:54.0758256+04:00 0HN8S3NJ6OGDH:00000007 [INF] GetUsersWithDocuments method called. (826a3c84)
2024-12-14T13:23:54.0941757+04:00 0HN8S3NJ6OGDH:00000007 [WRN] No users found with uploaded documents. (5684a41c)
2024-12-14T13:24:42.3907572+04:00 0HN8S3NJ6OGDG:00000005 [INF] SELECT [r].[SID], COALESCE([s].[ServicePrice], 0) AS [ServicePrice], [s].[ServiceName], COALESCE([s].[MerchantID], 0) AS [MerchantID], CAST([r].[FINALPRICE] AS decimal(18,2)) AS [FINALPRICE], [r].[UID], [r].[RFDFU], [r].[IsMerchantSelected], [r].[ResponseDateTime], [r].[IsPaymentDone], CASE
    WHEN [r0].[StatusID] IS NOT NULL THEN [r0].[StatusDescription]
    ELSE N'Unknown'
END AS [CurrentStatus], CASE
    WHEN [r0].[StatusID] IS NOT NULL THEN CASE
        WHEN [r0].[StatusName] = N'Completed' THEN CAST(1 AS bit)
        ELSE CAST(0 AS bit)
    END
    ELSE CAST(0 AS bit)
END AS [IsRequestCompleted]
FROM [Service] AS [s]
INNER JOIN [RequestForDisCountToUser] AS [r] ON [s].[ServiceID] = [r].[SID] AND COALESCE([s].[MerchantID], 0) = [r].[MID]
LEFT JOIN [CurrentServiceStatus] AS [c] ON [r].[UID] = [c].[UId] AND COALESCE([s].[MerchantID], 0) = [c].[MId] AND [r].[RFDFU] = [c].[RFDFU]
LEFT JOIN [RequestStatuses] AS [r0] ON CONVERT(int, [c].[CurrentStatus]) = [r0].[StatusID]
WHERE [s].[MerchantID] IS NOT NULL (fb864ff2)
2024-12-14T13:24:42.6927895+04:00 0HN8S3NJ6OGDH:00000010 [INF] No reviews found for merchantId: 3 (58ba9d33)
2024-12-14T13:24:42.7162117+04:00 0HN8S3NJ6OGDH:00000011 [INF] GetUsersWithDocuments method called. (826a3c84)
2024-12-14T13:24:42.7346109+04:00 0HN8S3NJ6OGDH:00000011 [WRN] No users found with uploaded documents. (5684a41c)
2024-12-14T13:25:19.2315419+04:00 0HN8S3NJ6OGDG:00000009 [INF] SELECT [r].[SID], COALESCE([s].[ServicePrice], 0) AS [ServicePrice], [s].[ServiceName], COALESCE([s].[MerchantID], 0) AS [MerchantID], CAST([r].[FINALPRICE] AS decimal(18,2)) AS [FINALPRICE], [r].[UID], [r].[RFDFU], [r].[IsMerchantSelected], [r].[ResponseDateTime], [r].[IsPaymentDone], CASE
    WHEN [r0].[StatusID] IS NOT NULL THEN [r0].[StatusDescription]
    ELSE N'Unknown'
END AS [CurrentStatus], CASE
    WHEN [r0].[StatusID] IS NOT NULL THEN CASE
        WHEN [r0].[StatusName] = N'Completed' THEN CAST(1 AS bit)
        ELSE CAST(0 AS bit)
    END
    ELSE CAST(0 AS bit)
END AS [IsRequestCompleted]
FROM [Service] AS [s]
INNER JOIN [RequestForDisCountToUser] AS [r] ON [s].[ServiceID] = [r].[SID] AND COALESCE([s].[MerchantID], 0) = [r].[MID]
LEFT JOIN [CurrentServiceStatus] AS [c] ON [r].[UID] = [c].[UId] AND COALESCE([s].[MerchantID], 0) = [c].[MId] AND [r].[RFDFU] = [c].[RFDFU]
LEFT JOIN [RequestStatuses] AS [r0] ON CONVERT(int, [c].[CurrentStatus]) = [r0].[StatusID]
WHERE [s].[MerchantID] IS NOT NULL (fb864ff2)
2024-12-14T13:25:19.4851978+04:00 0HN8S3NJ6OGDH:0000001A [INF] No reviews found for merchantId: 3 (58ba9d33)
2024-12-14T13:25:19.5014090+04:00 0HN8S3NJ6OGDH:0000001B [INF] GetUsersWithDocuments method called. (826a3c84)
2024-12-14T13:25:19.5182740+04:00 0HN8S3NJ6OGDH:0000001B [WRN] No users found with uploaded documents. (5684a41c)
2024-12-14T13:26:00.5112785+04:00 0HN8S3NJ6OGDO:00000001 [INF] SELECT [r].[SID], COALESCE([s].[ServicePrice], 0) AS [ServicePrice], [s].[ServiceName], COALESCE([s].[MerchantID], 0) AS [MerchantID], CAST([r].[FINALPRICE] AS decimal(18,2)) AS [FINALPRICE], [r].[UID], [r].[RFDFU], [r].[IsMerchantSelected], [r].[ResponseDateTime], [r].[IsPaymentDone], CASE
    WHEN [r0].[StatusID] IS NOT NULL THEN [r0].[StatusDescription]
    ELSE N'Unknown'
END AS [CurrentStatus], CASE
    WHEN [r0].[StatusID] IS NOT NULL THEN CASE
        WHEN [r0].[StatusName] = N'Completed' THEN CAST(1 AS bit)
        ELSE CAST(0 AS bit)
    END
    ELSE CAST(0 AS bit)
END AS [IsRequestCompleted]
FROM [Service] AS [s]
INNER JOIN [RequestForDisCountToUser] AS [r] ON [s].[ServiceID] = [r].[SID] AND COALESCE([s].[MerchantID], 0) = [r].[MID]
LEFT JOIN [CurrentServiceStatus] AS [c] ON [r].[UID] = [c].[UId] AND COALESCE([s].[MerchantID], 0) = [c].[MId] AND [r].[RFDFU] = [c].[RFDFU]
LEFT JOIN [RequestStatuses] AS [r0] ON CONVERT(int, [c].[CurrentStatus]) = [r0].[StatusID]
WHERE [s].[MerchantID] IS NOT NULL (fb864ff2)
2024-12-14T13:26:00.7821316+04:00 0HN8S3NJ6OGDP:00000006 [INF] No reviews found for merchantId: 3 (58ba9d33)
2024-12-14T13:26:00.8040709+04:00 0HN8S3NJ6OGDP:00000007 [INF] GetUsersWithDocuments method called. (826a3c84)
2024-12-14T13:26:00.8087099+04:00 0HN8S3NJ6OGDP:00000007 [WRN] No users found with uploaded documents. (5684a41c)
2024-12-14T13:29:17.0503099+04:00 0HN8S3NJ6OGDS:00000001 [INF] SELECT [r].[SID], COALESCE([s].[ServicePrice], 0) AS [ServicePrice], [s].[ServiceName], COALESCE([s].[MerchantID], 0) AS [MerchantID], CAST([r].[FINALPRICE] AS decimal(18,2)) AS [FINALPRICE], [r].[UID], [r].[RFDFU], [r].[IsMerchantSelected], [r].[ResponseDateTime], [r].[IsPaymentDone], CASE
    WHEN [r0].[StatusID] IS NOT NULL THEN [r0].[StatusDescription]
    ELSE N'Unknown'
END AS [CurrentStatus], CASE
    WHEN [r0].[StatusID] IS NOT NULL THEN CASE
        WHEN [r0].[StatusName] = N'Completed' THEN CAST(1 AS bit)
        ELSE CAST(0 AS bit)
    END
    ELSE CAST(0 AS bit)
END AS [IsRequestCompleted]
FROM [Service] AS [s]
INNER JOIN [RequestForDisCountToUser] AS [r] ON [s].[ServiceID] = [r].[SID] AND COALESCE([s].[MerchantID], 0) = [r].[MID]
LEFT JOIN [CurrentServiceStatus] AS [c] ON [r].[UID] = [c].[UId] AND COALESCE([s].[MerchantID], 0) = [c].[MId] AND [r].[RFDFU] = [c].[RFDFU]
LEFT JOIN [RequestStatuses] AS [r0] ON CONVERT(int, [c].[CurrentStatus]) = [r0].[StatusID]
WHERE [s].[MerchantID] IS NOT NULL (fb864ff2)
2024-12-14T13:29:17.3707090+04:00 0HN8S3NJ6OGDT:00000006 [INF] No reviews found for merchantId: 3 (58ba9d33)
2024-12-14T13:29:17.3912232+04:00 0HN8S3NJ6OGDT:00000007 [INF] GetUsersWithDocuments method called. (826a3c84)
2024-12-14T13:29:17.4115769+04:00 0HN8S3NJ6OGDT:00000007 [WRN] No users found with uploaded documents. (5684a41c)
2024-12-14T13:32:52.3631538+04:00 0HN8S3NJ6OGE0:00000006 [INF] No reviews found for merchantId: 3 (58ba9d33)
2024-12-14T13:32:52.3822915+04:00 0HN8S3NJ6OGE0:00000007 [INF] GetUsersWithDocuments method called. (826a3c84)
2024-12-14T13:32:52.4086835+04:00 0HN8S3NJ6OGE0:00000007 [WRN] No users found with uploaded documents. (5684a41c)
2024-12-14T13:34:30.0270584+04:00 0HN8S3NJ6OGE1:00000006 [INF] No reviews found for merchantId: 3 (58ba9d33)
2024-12-14T13:34:30.0400281+04:00 0HN8S3NJ6OGE1:00000007 [INF] GetUsersWithDocuments method called. (826a3c84)
2024-12-14T13:34:30.0574196+04:00 0HN8S3NJ6OGE1:00000007 [WRN] No users found with uploaded documents. (5684a41c)
2024-12-14T13:35:04.7955524+04:00 0HN8S3NJ6OGE2:00000006 [INF] No reviews found for merchantId: 3 (58ba9d33)
2024-12-14T13:35:04.8127599+04:00 0HN8S3NJ6OGE2:00000007 [INF] GetUsersWithDocuments method called. (826a3c84)
2024-12-14T13:35:04.8320363+04:00 0HN8S3NJ6OGE2:00000007 [WRN] No users found with uploaded documents. (5684a41c)
2024-12-14T13:37:38.1208323+04:00 0HN8S3NJ6OGE3:00000006 [INF] No reviews found for merchantId: 3 (58ba9d33)
2024-12-14T13:37:38.1369607+04:00 0HN8S3NJ6OGE3:00000007 [INF] GetUsersWithDocuments method called. (826a3c84)
2024-12-14T13:37:38.1550120+04:00 0HN8S3NJ6OGE3:00000007 [WRN] No users found with uploaded documents. (5684a41c)
2024-12-14T13:38:26.7040081+04:00 0HN8S3NJ6OGE3:00000010 [INF] No reviews found for merchantId: 3 (58ba9d33)
2024-12-14T13:38:26.7213852+04:00 0HN8S3NJ6OGE3:00000011 [INF] GetUsersWithDocuments method called. (826a3c84)
2024-12-14T13:38:26.7398786+04:00 0HN8S3NJ6OGE3:00000011 [WRN] No users found with uploaded documents. (5684a41c)
2024-12-14T13:39:45.6660873+04:00 0HN8S3NJ6OGE4:00000006 [INF] No reviews found for merchantId: 3 (58ba9d33)
2024-12-14T13:39:45.6829300+04:00 0HN8S3NJ6OGE4:00000007 [INF] GetUsersWithDocuments method called. (826a3c84)
2024-12-14T13:39:45.7032889+04:00 0HN8S3NJ6OGE4:00000007 [WRN] No users found with uploaded documents. (5684a41c)
2024-12-14T13:40:19.6843520+04:00 0HN8S3NJ6OGE4:00000010 [INF] No reviews found for merchantId: 3 (58ba9d33)
2024-12-14T13:40:19.7005729+04:00 0HN8S3NJ6OGE4:00000011 [INF] GetUsersWithDocuments method called. (826a3c84)
2024-12-14T13:40:19.7047960+04:00 0HN8S3NJ6OGE4:00000011 [WRN] No users found with uploaded documents. (5684a41c)
2024-12-14T13:43:50.9979482+04:00 0HN8S3NJ6OGE5:00000006 [INF] No reviews found for merchantId: 3 (58ba9d33)
2024-12-14T13:43:51.0156856+04:00 0HN8S3NJ6OGE5:00000007 [INF] GetUsersWithDocuments method called. (826a3c84)
2024-12-14T13:43:51.0407963+04:00 0HN8S3NJ6OGE5:00000007 [WRN] No users found with uploaded documents. (5684a41c)
2024-12-14T13:45:10.6002369+04:00 0HN8S3NJ6OGE6:00000006 [INF] No reviews found for merchantId: 3 (58ba9d33)
2024-12-14T13:45:10.6439406+04:00 0HN8S3NJ6OGE6:00000007 [INF] GetUsersWithDocuments method called. (826a3c84)
2024-12-14T13:45:10.6765362+04:00 0HN8S3NJ6OGE6:00000007 [WRN] No users found with uploaded documents. (5684a41c)
2024-12-14T13:45:26.8552025+04:00 0HN8S3NJ6OGE6:0000000B [INF] Attempting login for email: "fahad@gmail.com" (100386e3)
2024-12-14T13:45:26.8640842+04:00 0HN8S3NJ6OGE6:0000000B [INF] User login successful for email: "fahad@gmail.com" (8ce767cc)
2024-12-14T13:45:27.0614515+04:00 0HN8S3NJ6OGE6:00000011 [INF] No reviews found for merchantId: 3 (58ba9d33)
2024-12-14T13:45:27.0970710+04:00 0HN8S3NJ6OGE6:00000012 [INF] GetUsersWithDocuments method called. (826a3c84)
2024-12-14T13:45:27.1048308+04:00 0HN8S3NJ6OGE6:00000012 [WRN] No users found with uploaded documents. (5684a41c)
2024-12-14T22:11:01.3863408+04:00 0HN8SDAKD51OD:00000001 [INF] Attempting login for email: "fahad@gmail.com" (100386e3)
2024-12-14T22:11:02.6590195+04:00 0HN8SDAKD51OD:00000001 [INF] User login successful for email: "fahad@gmail.com" (8ce767cc)
2024-12-14T22:11:03.6319732+04:00 0HN8SDAKD51OD:00000007 [INF] No reviews found for merchantId: 3 (58ba9d33)
2024-12-14T22:11:03.6576343+04:00 0HN8SDAKD51OD:00000008 [INF] GetUsersWithDocuments method called. (826a3c84)
2024-12-14T22:11:03.6873458+04:00 0HN8SDAKD51OD:00000008 [WRN] No users found with uploaded documents. (5684a41c)
2024-12-14T22:32:02.0078308+04:00 0HN8SDAKD51OE:00000006 [INF] No reviews found for merchantId: 3 (58ba9d33)
2024-12-14T22:32:02.0230083+04:00 0HN8SDAKD51OE:00000007 [INF] GetUsersWithDocuments method called. (826a3c84)
2024-12-14T22:32:02.0461143+04:00 0HN8SDAKD51OE:00000007 [WRN] No users found with uploaded documents. (5684a41c)
2024-12-14T22:32:15.0214845+04:00 0HN8SDAKD51OE:00000011 [INF] No reviews found for merchantId: 3 (58ba9d33)
2024-12-14T22:32:15.0325269+04:00 0HN8SDAKD51OE:00000012 [INF] GetUsersWithDocuments method called. (826a3c84)
2024-12-14T22:32:15.0428560+04:00 0HN8SDAKD51OE:00000012 [WRN] No users found with uploaded documents. (5684a41c)
2024-12-14T22:32:16.8171217+04:00 0HN8SDAKD51OE:0000001C [INF] No reviews found for merchantId: 3 (58ba9d33)
2024-12-14T22:32:16.8274720+04:00 0HN8SDAKD51OE:0000001D [INF] GetUsersWithDocuments method called. (826a3c84)
2024-12-14T22:32:16.8316209+04:00 0HN8SDAKD51OE:0000001D [WRN] No users found with uploaded documents. (5684a41c)
2024-12-14T22:35:26.7944518+04:00 0HN8SDAKD51ON:00000006 [INF] No reviews found for merchantId: 3 (58ba9d33)
2024-12-14T22:35:26.8162953+04:00 0HN8SDAKD51ON:00000007 [INF] GetUsersWithDocuments method called. (826a3c84)
2024-12-14T22:35:26.8370042+04:00 0HN8SDAKD51ON:00000007 [WRN] No users found with uploaded documents. (5684a41c)
2024-12-14T22:36:16.8371615+04:00 0HN8SDAKD51OO:00000008 [INF] SELECT [r].[SID], COALESCE([s].[ServicePrice], 0) AS [ServicePrice], [s].[ServiceName], COALESCE([s].[MerchantID], 0) AS [MerchantID], CAST([r].[FINALPRICE] AS decimal(18,2)) AS [FINALPRICE], [r].[UID], [r].[RFDFU], [r].[IsMerchantSelected], [r].[ResponseDateTime], [r].[IsPaymentDone], CASE
    WHEN [r0].[StatusID] IS NOT NULL THEN [r0].[StatusDescription]
    ELSE N'Unknown'
END AS [CurrentStatus], CASE
    WHEN [r0].[StatusID] IS NOT NULL THEN CASE
        WHEN [r0].[StatusName] = N'Completed' THEN CAST(1 AS bit)
        ELSE CAST(0 AS bit)
    END
    ELSE CAST(0 AS bit)
END AS [IsRequestCompleted]
FROM [Service] AS [s]
INNER JOIN [RequestForDisCountToUser] AS [r] ON [s].[ServiceID] = [r].[SID] AND COALESCE([s].[MerchantID], 0) = [r].[MID]
LEFT JOIN [CurrentServiceStatus] AS [c] ON [r].[UID] = [c].[UId] AND COALESCE([s].[MerchantID], 0) = [c].[MId] AND [r].[RFDFU] = [c].[RFDFU]
LEFT JOIN [RequestStatuses] AS [r0] ON CONVERT(int, [c].[CurrentStatus]) = [r0].[StatusID]
WHERE [s].[MerchantID] IS NOT NULL (fb864ff2)
2024-12-14T22:36:19.1213150+04:00 0HN8SDAKD51OO:0000000C [INF] SELECT [r].[SID], COALESCE([s].[ServicePrice], 0) AS [ServicePrice], [s].[ServiceName], COALESCE([s].[MerchantID], 0) AS [MerchantID], CAST([r].[FINALPRICE] AS decimal(18,2)) AS [FINALPRICE], [r].[UID], [r].[RFDFU], [r].[IsMerchantSelected], [r].[ResponseDateTime], [r].[IsPaymentDone], CASE
    WHEN [r0].[StatusID] IS NOT NULL THEN [r0].[StatusDescription]
    ELSE N'Unknown'
END AS [CurrentStatus], CASE
    WHEN [r0].[StatusID] IS NOT NULL THEN CASE
        WHEN [r0].[StatusName] = N'Completed' THEN CAST(1 AS bit)
        ELSE CAST(0 AS bit)
    END
    ELSE CAST(0 AS bit)
END AS [IsRequestCompleted]
FROM [Service] AS [s]
INNER JOIN [RequestForDisCountToUser] AS [r] ON [s].[ServiceID] = [r].[SID] AND COALESCE([s].[MerchantID], 0) = [r].[MID]
LEFT JOIN [CurrentServiceStatus] AS [c] ON [r].[UID] = [c].[UId] AND COALESCE([s].[MerchantID], 0) = [c].[MId] AND [r].[RFDFU] = [c].[RFDFU]
LEFT JOIN [RequestStatuses] AS [r0] ON CONVERT(int, [c].[CurrentStatus]) = [r0].[StatusID]
WHERE [s].[MerchantID] IS NOT NULL (fb864ff2)
2024-12-14T22:36:24.6900303+04:00 0HN8SDAKD51OO:00000015 [INF] SELECT [r].[SID], COALESCE([s].[ServicePrice], 0) AS [ServicePrice], [s].[ServiceName], COALESCE([s].[MerchantID], 0) AS [MerchantID], CAST([r].[FINALPRICE] AS decimal(18,2)) AS [FINALPRICE], [r].[UID], [r].[RFDFU], [r].[IsMerchantSelected], [r].[ResponseDateTime], [r].[IsPaymentDone], CASE
    WHEN [r0].[StatusID] IS NOT NULL THEN [r0].[StatusDescription]
    ELSE N'Unknown'
END AS [CurrentStatus], CASE
    WHEN [r0].[StatusID] IS NOT NULL THEN CASE
        WHEN [r0].[StatusName] = N'Completed' THEN CAST(1 AS bit)
        ELSE CAST(0 AS bit)
    END
    ELSE CAST(0 AS bit)
END AS [IsRequestCompleted]
FROM [Service] AS [s]
INNER JOIN [RequestForDisCountToUser] AS [r] ON [s].[ServiceID] = [r].[SID] AND COALESCE([s].[MerchantID], 0) = [r].[MID]
LEFT JOIN [CurrentServiceStatus] AS [c] ON [r].[UID] = [c].[UId] AND COALESCE([s].[MerchantID], 0) = [c].[MId] AND [r].[RFDFU] = [c].[RFDFU]
LEFT JOIN [RequestStatuses] AS [r0] ON CONVERT(int, [c].[CurrentStatus]) = [r0].[StatusID]
WHERE [s].[MerchantID] IS NOT NULL (fb864ff2)
2024-12-14T22:36:28.8773509+04:00 0HN8SDAKD51OO:00000019 [INF] SELECT [r].[SID], COALESCE([s].[ServicePrice], 0) AS [ServicePrice], [s].[ServiceName], COALESCE([s].[MerchantID], 0) AS [MerchantID], CAST([r].[FINALPRICE] AS decimal(18,2)) AS [FINALPRICE], [r].[UID], [r].[RFDFU], [r].[IsMerchantSelected], [r].[ResponseDateTime], [r].[IsPaymentDone], CASE
    WHEN [r0].[StatusID] IS NOT NULL THEN [r0].[StatusDescription]
    ELSE N'Unknown'
END AS [CurrentStatus], CASE
    WHEN [r0].[StatusID] IS NOT NULL THEN CASE
        WHEN [r0].[StatusName] = N'Completed' THEN CAST(1 AS bit)
        ELSE CAST(0 AS bit)
    END
    ELSE CAST(0 AS bit)
END AS [IsRequestCompleted]
FROM [Service] AS [s]
INNER JOIN [RequestForDisCountToUser] AS [r] ON [s].[ServiceID] = [r].[SID] AND COALESCE([s].[MerchantID], 0) = [r].[MID]
LEFT JOIN [CurrentServiceStatus] AS [c] ON [r].[UID] = [c].[UId] AND COALESCE([s].[MerchantID], 0) = [c].[MId] AND [r].[RFDFU] = [c].[RFDFU]
LEFT JOIN [RequestStatuses] AS [r0] ON CONVERT(int, [c].[CurrentStatus]) = [r0].[StatusID]
WHERE [s].[MerchantID] IS NOT NULL (fb864ff2)
2024-12-14T22:36:31.4356008+04:00 0HN8SDAKD51OO:0000001D [INF] Fetching provider user with ID: 3 (0bca2dfb)
2024-12-14T22:36:31.4523184+04:00 0HN8SDAKD51OO:0000001D [INF] Provider user fetched successfully with ID: 3 (18c35d23)
2024-12-14T22:36:55.3120963+04:00 0HN8SDAKD51OO:0000001F [INF] sendRequestToSavePayment method called with UserId: 2 (b9981db9)
2024-12-14T22:36:56.0341803+04:00 0HN8SDAKD51OO:0000001F [ERR] An error occurred while processing the payment request. (0f5bd7c8)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of UNIQUE KEY constraint 'UC_ReferredCustomer'. Cannot insert duplicate key in object 'dbo.Referral'. The duplicate key value is (<NULL>).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8b774205-b37d-4248-ba90-2d4e7e118b5b
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at AFFZ_API.Controllers.PaymentController.sendRequestToSavePayment(PaymentHistory savePaymentHistory) in D:\webapplication_codes2022preview\SmartCenter-main\SmartCenter\AFFZ_API\Controllers\PaymentController.cs:line 27
2024-12-14T22:37:40.1216724+04:00 0HN8SDAKD51OO:00000020 [INF] sendRequestToSavePayment method called with UserId: 2 (b9981db9)
2024-12-14T22:37:40.3488143+04:00 0HN8SDAKD51OO:00000020 [ERR] An error occurred while processing the payment request. (0f5bd7c8)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of UNIQUE KEY constraint 'UC_ReferredCustomer'. Cannot insert duplicate key in object 'dbo.Referral'. The duplicate key value is (<NULL>).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8b774205-b37d-4248-ba90-2d4e7e118b5b
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at AFFZ_API.Controllers.PaymentController.sendRequestToSavePayment(PaymentHistory savePaymentHistory) in D:\webapplication_codes2022preview\SmartCenter-main\SmartCenter\AFFZ_API\Controllers\PaymentController.cs:line 27
2024-12-14T22:38:59.4540015+04:00 0HN8SDAKD51OO:00000021 [INF] sendRequestToSavePayment method called with UserId: 2 (b9981db9)
2024-12-14T22:38:59.7238242+04:00 0HN8SDAKD51OO:00000021 [ERR] An error occurred while processing the payment request. (0f5bd7c8)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of UNIQUE KEY constraint 'UC_ReferredCustomer'. Cannot insert duplicate key in object 'dbo.Referral'. The duplicate key value is (<NULL>).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8b774205-b37d-4248-ba90-2d4e7e118b5b
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at AFFZ_API.Controllers.PaymentController.sendRequestToSavePayment(PaymentHistory savePaymentHistory) in D:\webapplication_codes2022preview\SmartCenter-main\SmartCenter\AFFZ_API\Controllers\PaymentController.cs:line 27
2024-12-14T22:39:33.4134811+04:00 0HN8SDAKD51OO:00000022 [INF] sendRequestToSavePayment method called with UserId: 2 (b9981db9)
2024-12-14T22:41:35.6819914+04:00 0HN8SDAKD51OO:00000022 [ERR] An error occurred while processing the payment request. (0f5bd7c8)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of UNIQUE KEY constraint 'UC_ReferredCustomer'. Cannot insert duplicate key in object 'dbo.Referral'. The duplicate key value is (<NULL>).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8b774205-b37d-4248-ba90-2d4e7e118b5b
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at AFFZ_API.Controllers.PaymentController.sendRequestToSavePayment(PaymentHistory savePaymentHistory) in D:\webapplication_codes2022preview\SmartCenter-main\SmartCenter\AFFZ_API\Controllers\PaymentController.cs:line 27
2024-12-14T22:41:40.4268128+04:00 0HN8SDAKD51OP:00000001 [INF] sendRequestToSavePayment method called with UserId: 2 (b9981db9)
2024-12-14T22:44:42.9131512+04:00 0HN8SDAKD51OP:00000001 [ERR] An error occurred while processing the payment request. (0f5bd7c8)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of UNIQUE KEY constraint 'UC_ReferredCustomer'. Cannot insert duplicate key in object 'dbo.Referral'. The duplicate key value is (<NULL>).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8b774205-b37d-4248-ba90-2d4e7e118b5b
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at AFFZ_API.Controllers.PaymentController.sendRequestToSavePayment(PaymentHistory savePaymentHistory) in D:\webapplication_codes2022preview\SmartCenter-main\SmartCenter\AFFZ_API\Controllers\PaymentController.cs:line 27
2024-12-14T22:44:47.8105572+04:00 0HN8SDAKD51OQ:00000001 [INF] sendRequestToSavePayment method called with UserId: 2 (b9981db9)
2024-12-14T22:44:49.5249325+04:00 0HN8SDAKD51OQ:00000001 [INF] Payment Done Successfully. (e71e65ea)
2024-12-14T22:44:52.8041374+04:00 0HN8SDAKD51OQ:00000002 [INF] UpdateRequestForDisCountToUserForPaymentDont method called with UserId: 2 (b12c6fe3)
2024-12-14T22:44:52.8095055+04:00 0HN8SDAKD51OQ:00000002 [INF] Payment status updated. (3afab57c)
2024-12-14T22:45:44.2705173+04:00 0HN8SDAKD51OQ:00000009 [INF] SELECT [r].[SID], COALESCE([s].[ServicePrice], 0) AS [ServicePrice], [s].[ServiceName], COALESCE([s].[MerchantID], 0) AS [MerchantID], CAST([r].[FINALPRICE] AS decimal(18,2)) AS [FINALPRICE], [r].[UID], [r].[RFDFU], [r].[IsMerchantSelected], [r].[ResponseDateTime], [r].[IsPaymentDone], CASE
    WHEN [r0].[StatusID] IS NOT NULL THEN [r0].[StatusDescription]
    ELSE N'Unknown'
END AS [CurrentStatus], CASE
    WHEN [r0].[StatusID] IS NOT NULL THEN CASE
        WHEN [r0].[StatusName] = N'Completed' THEN CAST(1 AS bit)
        ELSE CAST(0 AS bit)
    END
    ELSE CAST(0 AS bit)
END AS [IsRequestCompleted]
FROM [Service] AS [s]
INNER JOIN [RequestForDisCountToUser] AS [r] ON [s].[ServiceID] = [r].[SID] AND COALESCE([s].[MerchantID], 0) = [r].[MID]
LEFT JOIN [CurrentServiceStatus] AS [c] ON [r].[UID] = [c].[UId] AND COALESCE([s].[MerchantID], 0) = [c].[MId] AND [r].[RFDFU] = [c].[RFDFU]
LEFT JOIN [RequestStatuses] AS [r0] ON CONVERT(int, [c].[CurrentStatus]) = [r0].[StatusID]
WHERE [s].[MerchantID] IS NOT NULL (fb864ff2)
2024-12-14T22:46:56.2191192+04:00 0HN8SDAKD51OT:00000006 [INF] No reviews found for merchantId: 3 (58ba9d33)
2024-12-14T22:46:56.2660290+04:00 0HN8SDAKD51OT:00000008 [INF] GetUsersWithDocuments method called. (826a3c84)
2024-12-14T22:46:56.3014670+04:00 0HN8SDAKD51OT:00000008 [WRN] No users found with uploaded documents. (5684a41c)
2024-12-14T22:46:56.4355157+04:00 0HN8SDAKD51OT:0000000C [INF] No reviews found for merchantId: 3 (58ba9d33)
2024-12-14T22:46:56.4508034+04:00 0HN8SDAKD51OU:00000006 [INF] GetUsersWithDocuments method called. (826a3c84)
2024-12-14T22:46:56.4701573+04:00 0HN8SDAKD51OU:00000006 [WRN] No users found with uploaded documents. (5684a41c)
2024-12-14T22:51:13.2297386+04:00 0HN8SDAKD51P1:00000006 [INF] No reviews found for merchantId: 3 (58ba9d33)
2024-12-14T22:51:15.5337689+04:00 0HN8SDAKD51P1:00000007 [INF] GetUsersWithDocuments method called. (826a3c84)
2024-12-14T22:51:15.5537423+04:00 0HN8SDAKD51P1:00000007 [WRN] No users found with uploaded documents. (5684a41c)
2024-12-14T22:53:20.3751048+04:00 0HN8SDAKD51P2:00000001 [INF] GetUsersWithDocuments method called. (826a3c84)
2024-12-14T22:53:20.3910973+04:00 0HN8SDAKD51P2:00000001 [WRN] No users found with uploaded documents. (5684a41c)
2024-12-14T22:55:39.6911643+04:00 0HN8SE3IK4NKT:00000001 [INF] Attempting login for email: "fahad@gmail.com" (100386e3)
2024-12-14T22:55:42.7504766+04:00 0HN8SE3IK4NKT:00000001 [INF] User login successful for email: "fahad@gmail.com" (8ce767cc)
2024-12-14T22:55:44.2442301+04:00 0HN8SE3IK4NKT:00000007 [INF] No reviews found for merchantId: 3 (58ba9d33)
2024-12-14T22:55:46.6081432+04:00 0HN8SE3IK4NKT:00000008 [INF] GetUsersWithDocuments method called. (826a3c84)
2024-12-14T22:55:46.6396238+04:00 0HN8SE3IK4NKT:00000008 [WRN] No users found with uploaded documents. (5684a41c)
2024-12-14T22:58:08.2128943+04:00 0HN8SE3IK4NKU:00000001 [INF] GetUsersWithDocuments method called. (826a3c84)
2024-12-14T22:58:08.2348911+04:00 0HN8SE3IK4NKU:00000001 [WRN] No users found with uploaded documents. (5684a41c)
2024-12-14T23:02:06.2530170+04:00 0HN8SE6OGBALS:00000011 [INF] GetUsersWithDocuments method called. (826a3c84)
2024-12-14T23:02:08.3413588+04:00 0HN8SE6OGBALS:00000011 [WRN] No users found with uploaded documents. (5684a41c)
2024-12-14T23:03:11.8398019+04:00 0HN8SE7PADHE2:00000001 [INF] Attempting login for email: "fahad@gmail.com" (100386e3)
2024-12-14T23:03:14.7623962+04:00 0HN8SE7PADHE2:00000001 [INF] User login successful for email: "fahad@gmail.com" (8ce767cc)
2024-12-14T23:03:16.2786730+04:00 0HN8SE7PADHE2:00000007 [INF] No reviews found for merchantId: 3 (58ba9d33)
2024-12-14T23:03:19.3284757+04:00 0HN8SE7PADHE2:00000008 [INF] GetUsersWithDocuments method called. (826a3c84)
2024-12-14T23:03:19.3605172+04:00 0HN8SE7PADHE2:00000008 [WRN] No users found with uploaded documents. (5684a41c)
2024-12-14T23:04:46.5395146+04:00 0HN8SE7PADHE3:00000002 [INF] Attempting login for email: "fahad@gmail.com" (100386e3)
2024-12-14T23:04:46.5485825+04:00 0HN8SE7PADHE3:00000002 [INF] User login successful for email: "fahad@gmail.com" (8ce767cc)
2024-12-14T23:04:46.7886834+04:00 0HN8SE7PADHE4:00000006 [INF] No reviews found for merchantId: 3 (58ba9d33)
2024-12-14T23:05:13.4572551+04:00 0HN8SE7PADHE4:00000007 [INF] GetUsersWithDocuments method called. (826a3c84)
2024-12-14T23:05:14.5946471+04:00 0HN8SE7PADHE4:00000007 [WRN] No users found with uploaded documents. (5684a41c)
2024-12-14T23:06:33.1193124+04:00 0HN8SE7PADHE7:00000003 [INF] Attempting login for email: "fahad@gmail.com" (100386e3)
2024-12-14T23:06:33.1248159+04:00 0HN8SE7PADHE7:00000003 [INF] User login successful for email: "fahad@gmail.com" (8ce767cc)
2024-12-14T23:06:33.2195872+04:00 0HN8SE7PADHE7:00000009 [INF] No reviews found for merchantId: 3 (58ba9d33)
2024-12-14T23:06:38.9743844+04:00 0HN8SE7PADHE7:0000000A [INF] GetUsersWithDocuments method called. (826a3c84)
2024-12-14T23:06:39.0016784+04:00 0HN8SE7PADHE7:0000000A [WRN] No users found with uploaded documents. (5684a41c)
2024-12-14T23:07:15.8097422+04:00 0HN8SE7PADHE7:00000012 [INF] GetUsersWithDocuments method called. (826a3c84)
2024-12-14T23:07:15.8298185+04:00 0HN8SE7PADHE7:00000012 [WRN] No users found with uploaded documents. (5684a41c)
2024-12-14T23:09:01.1685249+04:00 0HN8SE7PADHEC:00000007 [INF] SELECT [r].[SID], COALESCE([s].[ServicePrice], 0) AS [ServicePrice], [s].[ServiceName], COALESCE([s].[MerchantID], 0) AS [MerchantID], CAST([r].[FINALPRICE] AS decimal(18,2)) AS [FINALPRICE], [r].[UID], [r].[RFDFU], [r].[IsMerchantSelected], [r].[ResponseDateTime], [r].[IsPaymentDone], CASE
    WHEN [r0].[StatusID] IS NOT NULL THEN [r0].[StatusDescription]
    ELSE N'Unknown'
END AS [CurrentStatus], CASE
    WHEN [r0].[StatusID] IS NOT NULL THEN CASE
        WHEN [r0].[StatusName] = N'Completed' THEN CAST(1 AS bit)
        ELSE CAST(0 AS bit)
    END
    ELSE CAST(0 AS bit)
END AS [IsRequestCompleted]
FROM [Service] AS [s]
INNER JOIN [RequestForDisCountToUser] AS [r] ON [s].[ServiceID] = [r].[SID] AND COALESCE([s].[MerchantID], 0) = [r].[MID]
LEFT JOIN [CurrentServiceStatus] AS [c] ON [r].[UID] = [c].[UId] AND COALESCE([s].[MerchantID], 0) = [c].[MId] AND [r].[RFDFU] = [c].[RFDFU]
LEFT JOIN [RequestStatuses] AS [r0] ON CONVERT(int, [c].[CurrentStatus]) = [r0].[StatusID]
WHERE [s].[MerchantID] IS NOT NULL (fb864ff2)
2024-12-14T23:17:44.6984199+04:00 0HN8SEFTMTKD8:00000001 [INF] Attempting login for email: "fahad@gmail.com" (100386e3)
2024-12-14T23:17:47.7381224+04:00 0HN8SEFTMTKD8:00000001 [INF] User login successful for email: "fahad@gmail.com" (8ce767cc)
2024-12-14T23:17:49.2664789+04:00 0HN8SEFTMTKD8:00000007 [INF] No reviews found for merchantId: 3 (58ba9d33)
2024-12-14T23:18:19.9125505+04:00 0HN8SEFTMTKD8:00000008 [INF] SELECT [r].[SID], COALESCE([s].[ServicePrice], 0) AS [ServicePrice], [s].[ServiceName], COALESCE([s].[MerchantID], 0) AS [MerchantID], CAST([r].[FINALPRICE] AS decimal(18,2)) AS [FINALPRICE], [r].[UID], [r].[RFDFU], [r].[IsMerchantSelected], [r].[ResponseDateTime], [r].[IsPaymentDone], CASE
    WHEN [r0].[StatusID] IS NOT NULL THEN [r0].[StatusDescription]
    ELSE N'Unknown'
END AS [CurrentStatus], CASE
    WHEN [r0].[StatusID] IS NOT NULL THEN CASE
        WHEN [r0].[StatusName] = N'Completed' THEN CAST(1 AS bit)
        ELSE CAST(0 AS bit)
    END
    ELSE CAST(0 AS bit)
END AS [IsRequestCompleted]
FROM [Service] AS [s]
INNER JOIN [RequestForDisCountToUser] AS [r] ON [s].[ServiceID] = [r].[SID] AND COALESCE([s].[MerchantID], 0) = [r].[MID]
LEFT JOIN [CurrentServiceStatus] AS [c] ON [r].[UID] = [c].[UId] AND COALESCE([s].[MerchantID], 0) = [c].[MId] AND [r].[RFDFU] = [c].[RFDFU]
LEFT JOIN [RequestStatuses] AS [r0] ON CONVERT(int, [c].[CurrentStatus]) = [r0].[StatusID]
WHERE [s].[MerchantID] IS NOT NULL (fb864ff2)
2024-12-14T23:18:33.5933276+04:00 0HN8SEFTMTKD8:00000012 [INF] No reviews found for merchantId: 3 (58ba9d33)
2024-12-14T23:18:33.6118003+04:00 0HN8SEFTMTKD8:00000013 [INF] SELECT [r].[SID], COALESCE([s].[ServicePrice], 0) AS [ServicePrice], [s].[ServiceName], COALESCE([s].[MerchantID], 0) AS [MerchantID], CAST([r].[FINALPRICE] AS decimal(18,2)) AS [FINALPRICE], [r].[UID], [r].[RFDFU], [r].[IsMerchantSelected], [r].[ResponseDateTime], [r].[IsPaymentDone], CASE
    WHEN [r0].[StatusID] IS NOT NULL THEN [r0].[StatusDescription]
    ELSE N'Unknown'
END AS [CurrentStatus], CASE
    WHEN [r0].[StatusID] IS NOT NULL THEN CASE
        WHEN [r0].[StatusName] = N'Completed' THEN CAST(1 AS bit)
        ELSE CAST(0 AS bit)
    END
    ELSE CAST(0 AS bit)
END AS [IsRequestCompleted]
FROM [Service] AS [s]
INNER JOIN [RequestForDisCountToUser] AS [r] ON [s].[ServiceID] = [r].[SID] AND COALESCE([s].[MerchantID], 0) = [r].[MID]
LEFT JOIN [CurrentServiceStatus] AS [c] ON [r].[UID] = [c].[UId] AND COALESCE([s].[MerchantID], 0) = [c].[MId] AND [r].[RFDFU] = [c].[RFDFU]
LEFT JOIN [RequestStatuses] AS [r0] ON CONVERT(int, [c].[CurrentStatus]) = [r0].[StatusID]
WHERE [s].[MerchantID] IS NOT NULL (fb864ff2)
2024-12-14T23:19:38.9432210+04:00 0HN8SEFTMTKD9:00000004 [INF] No reviews found for merchantId: 3 (58ba9d33)
2024-12-14T23:19:38.9591220+04:00 0HN8SEFTMTKD9:00000005 [INF] SELECT [r].[SID], COALESCE([s].[ServicePrice], 0) AS [ServicePrice], [s].[ServiceName], COALESCE([s].[MerchantID], 0) AS [MerchantID], CAST([r].[FINALPRICE] AS decimal(18,2)) AS [FINALPRICE], [r].[UID], [r].[RFDFU], [r].[IsMerchantSelected], [r].[ResponseDateTime], [r].[IsPaymentDone], CASE
    WHEN [r0].[StatusID] IS NOT NULL THEN [r0].[StatusDescription]
    ELSE N'Unknown'
END AS [CurrentStatus], CASE
    WHEN [r0].[StatusID] IS NOT NULL THEN CASE
        WHEN [r0].[StatusName] = N'Completed' THEN CAST(1 AS bit)
        ELSE CAST(0 AS bit)
    END
    ELSE CAST(0 AS bit)
END AS [IsRequestCompleted]
FROM [Service] AS [s]
INNER JOIN [RequestForDisCountToUser] AS [r] ON [s].[ServiceID] = [r].[SID] AND COALESCE([s].[MerchantID], 0) = [r].[MID]
LEFT JOIN [CurrentServiceStatus] AS [c] ON [r].[UID] = [c].[UId] AND COALESCE([s].[MerchantID], 0) = [c].[MId] AND [r].[RFDFU] = [c].[RFDFU]
LEFT JOIN [RequestStatuses] AS [r0] ON CONVERT(int, [c].[CurrentStatus]) = [r0].[StatusID]
WHERE [s].[MerchantID] IS NOT NULL (fb864ff2)
2024-12-14T23:20:18.2263548+04:00 0HN8SEFTMTKDA:00000008 [INF] No reviews found for merchantId: 3 (58ba9d33)
2024-12-14T23:20:18.2537288+04:00 0HN8SEFTMTKDA:00000009 [INF] SELECT [r].[SID], COALESCE([s].[ServicePrice], 0) AS [ServicePrice], [s].[ServiceName], COALESCE([s].[MerchantID], 0) AS [MerchantID], CAST([r].[FINALPRICE] AS decimal(18,2)) AS [FINALPRICE], [r].[UID], [r].[RFDFU], [r].[IsMerchantSelected], [r].[ResponseDateTime], [r].[IsPaymentDone], CASE
    WHEN [r0].[StatusID] IS NOT NULL THEN [r0].[StatusDescription]
    ELSE N'Unknown'
END AS [CurrentStatus], CASE
    WHEN [r0].[StatusID] IS NOT NULL THEN CASE
        WHEN [r0].[StatusName] = N'Completed' THEN CAST(1 AS bit)
        ELSE CAST(0 AS bit)
    END
    ELSE CAST(0 AS bit)
END AS [IsRequestCompleted]
FROM [Service] AS [s]
INNER JOIN [RequestForDisCountToUser] AS [r] ON [s].[ServiceID] = [r].[SID] AND COALESCE([s].[MerchantID], 0) = [r].[MID]
LEFT JOIN [CurrentServiceStatus] AS [c] ON [r].[UID] = [c].[UId] AND COALESCE([s].[MerchantID], 0) = [c].[MId] AND [r].[RFDFU] = [c].[RFDFU]
LEFT JOIN [RequestStatuses] AS [r0] ON CONVERT(int, [c].[CurrentStatus]) = [r0].[StatusID]
WHERE [s].[MerchantID] IS NOT NULL (fb864ff2)
2024-12-14T23:20:45.4002226+04:00 0HN8SEFTMTKDA:00000013 [INF] No reviews found for merchantId: 3 (58ba9d33)
2024-12-14T23:21:01.8113601+04:00 0HN8SEFTMTKDA:0000001A [INF] No reviews found for merchantId: 3 (58ba9d33)
2024-12-14T23:22:58.4285556+04:00 0HN8SEIR702IR:00000001 [INF] Attempting login for email: "fahad@gmail.com" (100386e3)
2024-12-14T23:23:01.8355470+04:00 0HN8SEIR702IR:00000001 [INF] User login successful for email: "fahad@gmail.com" (8ce767cc)
2024-12-14T23:23:03.4398456+04:00 0HN8SEIR702IR:00000007 [INF] No reviews found for merchantId: 3 (58ba9d33)
2024-12-14T23:23:03.5374476+04:00 0HN8SEIR702IR:00000008 [INF] SELECT [r].[SID], COALESCE([s].[ServicePrice], 0) AS [ServicePrice], [s].[ServiceName], COALESCE([s].[MerchantID], 0) AS [MerchantID], CAST([r].[FINALPRICE] AS decimal(18,2)) AS [FINALPRICE], [r].[UID], [r].[RFDFU], [r].[IsMerchantSelected], [r].[ResponseDateTime], [r].[IsPaymentDone], CASE
    WHEN [r0].[StatusID] IS NOT NULL THEN [r0].[StatusDescription]
    ELSE N'Unknown'
END AS [CurrentStatus], CASE
    WHEN [r0].[StatusID] IS NOT NULL THEN CASE
        WHEN [r0].[StatusName] = N'Completed' THEN CAST(1 AS bit)
        ELSE CAST(0 AS bit)
    END
    ELSE CAST(0 AS bit)
END AS [IsRequestCompleted]
FROM [Service] AS [s]
INNER JOIN [RequestForDisCountToUser] AS [r] ON [s].[ServiceID] = [r].[SID] AND COALESCE([s].[MerchantID], 0) = [r].[MID]
LEFT JOIN [CurrentServiceStatus] AS [c] ON [r].[UID] = [c].[UId] AND COALESCE([s].[MerchantID], 0) = [c].[MId] AND [r].[RFDFU] = [c].[RFDFU]
LEFT JOIN [RequestStatuses] AS [r0] ON CONVERT(int, [c].[CurrentStatus]) = [r0].[StatusID]
WHERE [s].[MerchantID] IS NOT NULL (fb864ff2)
